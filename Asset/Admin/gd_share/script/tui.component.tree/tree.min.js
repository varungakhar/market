!function t(e,i,s){function n(o,a){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return n(i?i:t)},h,h.exports,t,e,i,s)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,i){"use strict";var s=t("./src/js/tree"),n=tui.util.defineNamespace("tui.component");n.Tree=s},{"./src/js/tree":10}],2:[function(t,e,i){"use strict";function s(t,e){var i={};return tui.util.forEach(e,function(e){i[e+"Class"]=t+e}),i}e.exports={nodeDefaultState:"closed",stateLabels:{opened:"-",closed:"+"},nodeIdPrefix:"tui-tree-node-",classNames:s("tui-tree-",["node","leaf","opened","closed","subtree","toggleBtn","text"]),template:{internalNode:'<button type="button" class="{{toggleBtnClass}}">{{stateLabel}}</button><span class="{{textClass}}">{{text}}</span><ul class="{{subtreeClass}}">{{children}}</ul>',leafNode:'<span class="{{textClass}}">{{text}}</span>'}}},{}],3:[function(t,e,i){"use strict";e.exports={INVALID_ROOT_ELEMENT:'"tui-component-tree": Root element is invalid.',INVALID_API:'"tui-component-tree": INVALID_API',INVALID_API_SELECTABLE:'"tui-component-tree": The feature-"Selectable" is not enabled.',INVALID_API_EDITABLE:'"tui-component-tree": The feature-"Editable" is not enabled.',INVALID_API_DRAGGABLE:'"tui-component-tree": The feature-"Draggable" is not enabled.',INVALID_API_CHECKBOX:'"tui-component-tree": The feature-"Checkbox" is not enabled.'}},{}],4:[function(t,e,i){"use strict";e.exports={INTERNAL_NODE:'<li id="{{id}}" class="{{nodeClass}} {{stateClass}}">{{innerTemplate}}</li>',LEAF_NODE:'<li id="{{id}}" class="{{nodeClass}} {{leafClass}}">{{innerTemplate}}</li>'}},{}],5:[function(t,e,i){"use strict";e.exports={node:{OPENED:"opened",CLOSED:"closed"}}},{}],6:[function(t,e,i){"use strict";var s=t("../util.js"),n=["check","uncheck","toggleCheck","isChecked","isIndeterminate","isUnchecked","getCheckedList","getTopCheckedList","getBottomCheckedList"],r=1,o=2,a=3,u="__CheckBoxState__",l={},h=tui.util.filter,c=tui.util.forEach,d=tui.util.defineClass({"static":{getAPIList:function(){return n.slice()}},init:function(t,e){e=tui.util.extend({},e),this.tree=t,this.checkboxClassName=e.checkboxClassName,this.checkedList=[],this.rootCheckbox=document.createElement("INPUT"),this.rootCheckbox.type="checkbox",this._setAPIs(),this._attachEvents()},destroy:function(){var t=this.tree;t.off(this),c(n,function(e){delete t[e]})},_setAPIs:function(){var t=this.tree,e=tui.util.bind;c(n,function(i){t[i]=e(this[i],this)},this)},_attachEvents:function(){this.tree.on({singleClick:function(t){var e,i,n=s.getTarget(t);s.hasClass(n,this.checkboxClassName)&&(e=this.tree.getNodeIdFromElement(n),i=this._getStateFromCheckbox(n),this._continuePostprocessing(e,i))},afterDraw:function(t){this.tree.isMovingNode||this._reflectChanges(t)},move:function(t){this._reflectChanges(t.originalParentId),this._reflectChanges(t.newParentId)}},this)},_reflectChanges:function(t){this.tree.each(function(t,e){this._setState(e,this._getState(e),!0)},t,this),this._judgeOwnState(t),this._updateAllAncestorsState(t)},_setCheckboxAttr:function(t,e,i){t.indeterminate=i,t.checked=e},_setState:function(t,e,i){var s=this._getCheckboxElement(t);if(s){switch(e){case r:this._setCheckboxAttr(s,!0,!1);break;case o:this._setCheckboxAttr(s,!1,!1);break;case a:this._setCheckboxAttr(s,!1,!0);break;default:return}this._continuePostprocessing(t,e,i)}},_getState:function(t){var e,i=this.tree,s=i.getNodeData(t)[u];return s||(e=this._getCheckboxElement(t),s=this._getStateFromCheckbox(e)),s},_getStateFromCheckbox:function(t){var e;return t?e=t.checked?r:t.indeterminate?a:o:null},_continuePostprocessing:function(t,e,i){var n,a=this.tree,h=this.checkedList;s.removeItemFromArray(t,h),e===r?(h.push(t),n="check"):e===o&&(n="uncheck"),l[u]=e,a.setNodeData(t,l,!0),i||(this._propagateState(t,e),a.fire(n,t))},_propagateState:function(t,e){e!==a&&(this._updateAllDescendantsState(t,e),this._updateAllAncestorsState(t))},_updateAllDescendantsState:function(t,e){this.tree.each(function(t,i){this._setState(i,e,!0)},t,this)},_updateAllAncestorsState:function(t){for(var e=this.tree,i=e.getParentId(t);i;)this._judgeOwnState(i),i=e.getParentId(i)},_judgeOwnState:function(t){var e=this.tree,i=e.getChildIds(t),s=!0,n=!0;i.length?c(i,function(t){var e=this._getState(t);return s=s&&e===r,n=n&&e===o,s||n},this):s=this.isChecked(t),s?this._setState(t,r,!0):n?this._setState(t,o,!0):this._setState(t,a,!0)},_getCheckboxElement:function(t){var e,i,n=this.tree;if(t===n.getRootNodeId())e=this.rootCheckbox;else{if(i=document.getElementById(t),!i)return null;e=s.getElementsByClassName(i,this.checkboxClassName)[0]}return e},check:function(t){this.isChecked(t)||this._setState(t,r)},uncheck:function(t){this.isUnchecked(t)||this._setState(t,o)},toggleCheck:function(t){this.isChecked(t)?this.uncheck(t):this.check(t)},isChecked:function(t){return r===this._getState(t)},isIndeterminate:function(t){return a===this._getState(t)},isUnchecked:function(t){return o===this._getState(t)},getCheckedList:function(t){var e=this.tree,i=this.checkedList;return t?h(i,function(i){return e.contains(t,i)}):i.slice()},getTopCheckedList:function(t){var e,i=this.tree,s=[];return t=t||i.getRootNodeId(),e=this._getState(t),e===r?s=i.getChildIds(t):e===a&&(s=this.getCheckedList(t),s=h(s,function(t){return!this.isChecked(i.getParentId(t))},this)),s},getBottomCheckedList:function(t){var e,i=this.tree;return t=t||i.getRootNodeId(),e=this.getCheckedList(t),h(e,function(t){return i.isLeaf(t)})}});tui.util.CustomEvents.mixin(d),e.exports=d},{"../util.js":13}],7:[function(t,e,i){"use strict";var s=t("./../util"),n={useHelper:!0,helperPos:{y:2,x:5}},r=["INPUT","BUTTON","UL"],o=[],a=tui.util.inArray,u=tui.util.defineClass({"static":{getAPIList:function(){return o.slice()}},init:function(t,e){this.tree=t,this.setMembers(e),this.attachMousedown()},setMembers:function(t){var e=document.createElement("span"),i=e.style;t=tui.util.extend({},n,t),this.useHelper=t.useHelper,this.helperPos=t.helperPos,this.rejectedTagNames=r.concat(t.rejectedTagNames),this.rejectedClassNames=[].concat(t.rejectedClassNames),this.helperElement=e,this.userSelectPropertyKey=null,this.userSelectPropertyValue=null,this.currentNodeId=null,i.position="absolute",i.display="none",this.tree.rootElement.parentNode.appendChild(e)},attachMousedown:function(){this.preventTextSelection(),this.tree.on("mousedown",this.onMousedown,this)},preventTextSelection:function(){var t=this.tree,e=t.rootElement.style,i=s.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);s.addEventListener(t.rootElement,"selectstart",s.preventDefault),this.userSelectPropertyKey=i,this.userSelectPropertyValue=e[i],e[i]="none"},isNotDraggable:function(t){var e,i=t.tagName.toUpperCase(),n=s.getClass(t).split(/\s+/);return-1!==a(i,this.rejectedTagNames)?!0:(tui.util.forEach(n,function(t){return e=-1!==a(t,this.rejectedClassNames),!e},this),e)},onMousedown:function(t){var e,i=s.getTarget(t),n=this.tree;s.isRightButton(t)||this.isNotDraggable(i)||(s.preventDefault(t),i=s.getTarget(t),e=n.getNodeIdFromElement(i),this.currentNodeId=e,this.useHelper&&this.setHelper(i.innerText||i.textContent),n.on({mousemove:this.onMousemove,mouseup:this.onMouseup},this))},onMousemove:function(t){var e=this.tree,i=this.helperElement,s=e.rootElement.getBoundingClientRect();this.useHelper&&(i.style.top=t.clientY-s.top+this.helperPos.y+"px",i.style.left=t.clientX-s.left+this.helperPos.x+"px",i.style.display="")},onMouseup:function(t){var e=this.tree,i=s.getTarget(t),n=e.getNodeIdFromElement(i);this.helperElement.style.display="none",e.move(this.currentNodeId,n),this.currentNodeId=null,e.off(this,"mousemove"),e.off(this,"mouseup")},restoreTextSelection:function(){var t=this.tree;s.removeEventListener(t.rootElement,"selectstart",s.preventDefault),this.userSelectPropertyKey&&(t.rootElement.style[this.userSelectPropertyKey]=this.userSelectPropertyValue)},setHelper:function(t){this.helperElement.innerHTML=t},detachMousedown:function(){this.tree.off(this)},destroy:function(){this.restoreTextSelection(),this.detachMousedown()}});e.exports=u},{"./../util":13}],8:[function(t,e,i){"use strict";var s=t("./../util"),n=[],r=tui.util.defineClass({"static":{getAPIList:function(){return n.slice()}},init:function(t,e){e=tui.util.extend({},e),this.tree=t,this.editableClassName=e.editableClassName,this.dataKey=e.dataKey,this.inputElement=this.createInputElement(e.inputClassName),this.boundOnKeyup=tui.util.bind(this.onKeyup,this),this.boundOnBlur=tui.util.bind(this.onBlur,this),t.on("doubleClick",this.onDoubleClick,this),s.addEventListener(this.inputElement,"keyup",this.boundOnKeyup),s.addEventListener(this.inputElement,"blur",this.boundOnBlur)},detachInputFromDocument:function(){var t=this.inputElement,e=t.parentNode;e&&e.removeChild(t)},destroy:function(){this.detachInputFromDocument(),this.tree.off(this),s.removeEventListener(this.inputElement,"keyup",this.boundOnKeyup),s.removeEventListener(this.inputElement,"blur",this.boundOnBlur)},createInputElement:function(t){var e=document.createElement("INPUT");return t&&(e.className=t),e.setAttribute("type","text"),e},onDoubleClick:function(t){var e,i,n=this.tree,r=s.getTarget(t);s.hasClass(r,this.editableClassName)&&(i=n.getNodeIdFromElement(r),e=this.inputElement,e.value=n.getNodeData(i)[this.dataKey]||"",r.parentNode.insertBefore(e,r),r.style.display="none",e.focus())},onKeyup:function(t){13===t.keyCode&&this.setData()},onBlur:function(){this.setData()},setData:function(){var t=this.tree,e=t.getNodeIdFromElement(this.inputElement),i={};e&&(i[this.dataKey]=this.inputElement.value,t.setNodeData(e,i)),this.detachInputFromDocument()}});e.exports=r},{"./../util":13}],9:[function(t,e,i){"use strict";var s=t("./../util"),n=["select","getSelectedNodeId"],r={selectedClassName:"tui-tree-selected"},o=tui.util.defineClass({"static":{getAPIList:function(){return n.slice()}},init:function(t,e){e=tui.util.extend({},r,e),this.tree=t,this.selectedClassName=e.selectedClassName,this.selectedNodeId=null,t.on({singleClick:this.onSingleClick,afterDraw:this.onAfterDraw},this),this._setAPIs()},_setAPIs:function(){var t=this.tree,e=tui.util.bind;tui.util.forEach(n,function(i){t[i]=e(this[i],this)},this)},destroy:function(){var t=this.tree,e=this.getPrevElement();s.removeClass(e,this.selectedClassName),t.off(this),tui.util.forEach(n,function(e){delete t[e]})},onSingleClick:function(t){var e=s.getTarget(t),i=this.tree.getNodeIdFromElement(e);this.select(i,e)},select:function(t,e){var i,n,r,o,a;t&&(i=this.tree,n=this.getPrevElement(),r=document.getElementById(t),o=this.selectedClassName,a=this.selectedNodeId,i.invoke("beforeSelect",t,a,e)&&(s.removeClass(n,o),s.addClass(r,o),i.fire("select",t,a,e),this.selectedNodeId=t))},getPrevElement:function(){return document.getElementById(this.selectedNodeId)},getSelectedNodeId:function(){return this.selectedNodeId},onAfterDraw:function(){var t=this.getPrevElement();t&&s.addClass(t,this.selectedClassName)}});e.exports=o},{"./../util":13}],10:[function(t,e,i){"use strict";function s(t,e){var i="INVALID_API_"+t.toUpperCase(),s=e.getAPIList?e.getAPIList():[];p.forEach(s,function(t){I.prototype[t]=function(){throw new Error(a[i]||a.INVALID_API)}})}var n=t("./util"),r=t("./consts/defaultOption"),o=t("./consts/states"),a=t("./consts/messages"),u=t("./consts/outerTemplate"),l=t("./treeModel"),h=t("./features/selectable"),c=t("./features/draggable"),d=t("./features/editable"),f=t("./features/checkbox"),m=o.node,g={Selectable:h,Draggable:c,Editable:d,Checkbox:f},p=tui.util,v=p.extend,N=200,C=5,I=p.defineClass({init:function(t,e){e=v({},r,e),this.classNames=v({},r.classNames,e.classNames),this.template=v({},r.template,e.template),this.rootElement=e.rootElement,this.stateLabels=e.stateLabels,this.model=new l(t,e),this.enabledFeatures={},this.clickTimer=null,this._mouseMovingFlag=!1,this._renderTemplate=e.renderTemplate||n.renderTemplate,this.isMovingNode=!1,this._setRoot(),this._draw(this.getRootNodeId()),this._setEvents()},_setRoot:function(){var t=this.rootElement;if(p.isString(t)&&(t=this.rootElement=document.getElementById(t)),!p.isHTMLNode(t))throw new Error(a.INVALID_ROOT_ELEMENT)},_onMove:function(t,e,i){this._draw(e),this._draw(i),this.fire("move",{nodeId:t,originalParentId:e,newParentId:i})},_setEvents:function(){this.model.on({update:this._draw,move:this._onMove},this),n.addEventListener(this.rootElement,"click",p.bind(this._onClick,this)),n.addEventListener(this.rootElement,"mousedown",p.bind(this._onMousedown,this)),n.addEventListener(this.rootElement,"dblclick",p.bind(this._onDoubleClick,this))},_onMousedown:function(t){function e(t){var e=t.clientX,i=t.clientY;a(e-r)+a(i-o)>C&&(s.fire("mousemove",t),s._mouseMovingFlag=!0)}function i(t){s.fire("mouseup",t),n.removeEventListener(document,"mousemove",e),n.removeEventListener(document,"mouseup",i)}var s=this,r=t.clientX,o=t.clientY,a=Math.abs;this._mouseMovingFlag=!1,this.fire("mousedown",t),n.addEventListener(document,"mousemove",e),n.addEventListener(document,"mouseup",i)},_onClick:function(t){var e=n.getTarget(t),i=this;return n.isRightButton(t)?void(this.clickTimer=null):n.hasClass(e,this.classNames.toggleBtnClass)?void this.toggle(this.getNodeIdFromElement(e)):void(this.clickTimer||this._mouseMovingFlag||(this.fire("singleClick",t),this.clickTimer=setTimeout(function(){i.resetClickTimer()},N)))},_onDoubleClick:function(t){this.fire("doubleClick",t),this.resetClickTimer()},_setDisplayFromNodeState:function(t,e){var i,s,r,o=this._getSubtreeElement(t);o&&o!==this.rootElement&&(i=this.stateLabels[e],r=document.getElementById(t),s=n.getElementsByClassName(r,this.classNames.toggleBtnClass)[0],e===m.OPENED?o.style.display="":o.style.display="none",this._setNodeClassNameFromState(r,e),s&&(s.innerHTML=i))},_setNodeClassNameFromState:function(t,e){var i=this.classNames,s=i[m.OPENED+"Class"],r=i[m.CLOSED+"Class"];n.removeClass(t,s),n.removeClass(t,r),n.addClass(t,i[e+"Class"])},_makeHtml:function(t){var e=this.model,i="";return p.forEach(t,function(t){var s,r,o=e.getNode(t);o&&(s=this._getTemplate(o),r=this._makeTemplateProps(o),r.innerTemplate=this._makeInnerHTML(o,{source:s.inner,props:r}),i+=n.renderTemplate(s.outer,r))},this),i},_makeInnerHTML:function(t,e){var i,s;return e=e||{},i=e.source||this._getTemplate(t).inner,s=e.props||this._makeTemplateProps(t),this._renderTemplate(i,s)},_getTemplate:function(t){var e;return e=t.isLeaf()?{inner:this.template.leafNode,outer:u.LEAF_NODE}:{inner:this.template.internalNode,outer:u.INTERNAL_NODE}},_makeTemplateProps:function(t){var e,i,s=this.classNames;return t.isLeaf()?e={id:t.getId(),isLeaf:!0}:(i=t.getState(),e={id:t.getId(),stateClass:s[i+"Class"],stateLabel:this.stateLabels[i],children:this._makeHtml(t.getChildIds())}),v(e,s,t.getAllData())},_draw:function(t){var e,i,s=this.model.getNode(t);s&&(this.fire("beforeDraw",t),s.isRoot()?(i=this._makeHtml(s.getChildIds()),e=this.rootElement):(i=this._makeInnerHTML(s),e=document.getElementById(t)),e.innerHTML=i,this._setClassWithDisplay(s),this.fire("afterDraw",t))},_setClassWithDisplay:function(t){var e=t.getId(),i=document.getElementById(e),s=this.classNames;t.isLeaf()?(n.removeClass(i,s.openedClass),n.removeClass(i,s.closedClass),n.addClass(i,s.leafClass)):(this._setDisplayFromNodeState(e,t.getState()),this.each(function(t){this._setClassWithDisplay(t)},e,this))},_getSubtreeElement:function(t){var e,i=this.model.getNode(t);return e=!i||i.isLeaf()?null:i.isRoot()?this.rootElement:n.getElementsByClassName(document.getElementById(t),this.classNames.subtreeClass)[0]},getDepth:function(t){return this.model.getDepth(t)},getLastDepth:function(){return this.model.getLastDepth()},getRootNodeId:function(){return this.model.rootNode.getId()},getChildIds:function(t){return this.model.getChildIds(t)},getParentId:function(t){return this.model.getParentId(t)},resetClickTimer:function(){window.clearTimeout(this.clickTimer),this.clickTimer=null},getNodeIdFromElement:function(t){for(var e=this.getNodeIdPrefix();t&&-1===t.id.indexOf(e);)t=t.parentElement;return t?t.id:""},getNodeIdPrefix:function(){return this.model.getNodeIdPrefix()},getNodeData:function(t){return this.model.getNodeData(t)},setNodeData:function(t,e,i){this.model.setNodeData(t,e,i)},removeNodeData:function(t,e,i){this.model.removeNodeData(t,e,i)},getState:function(t){var e=this.model.getNode(t);return e?e.getState():null},open:function(t){var e=this.model.getNode(t),i=m.OPENED;e&&!e.isRoot()&&(e.setState(i),this._setDisplayFromNodeState(t,i))},close:function(t){var e=this.model.getNode(t),i=m.CLOSED;e&&!e.isRoot()&&(e.setState(i),this._setDisplayFromNodeState(t,i))},toggle:function(t){var e,i=this.model.getNode(t);i&&!i.isRoot()&&(i.toggleState(),e=i.getState(),this._setDisplayFromNodeState(t,e))},sort:function(t,e){this.model.sort(t),e||this.refresh()},refresh:function(t){t=t||this.getRootNodeId(),this._draw(t)},eachAll:function(t,e){this.model.eachAll(t,e)},each:function(t,e,i){this.model.each(t,e,i)},add:function(t,e,i){return this.model.add(t,e,i)},resetAllData:function(t){return this.removeAllChildren(this.getRootNodeId(),!0),this.add(t)},removeAllChildren:function(t,e){var i=this.getChildIds(t);tui.util.forEach(i,function(t){this.remove(t,!0)},this),e||this._draw(t)},remove:function(t,e){this.model.remove(t,e)},move:function(t,e,i){this.isMovingNode=!0,this.model.move(t,e,i),this.isMovingNode=!1},search:function(t,e){return p.isObject(t)?p.isFunction(t)?this._filter(t,e):this._where(t):[]},_where:function(t){return this._filter(function(e){var i=!0,s=e.getAllData();return p.forEach(t,function(t,e){return i=e in s&&s[e]===t}),i})},_filter:function(t,e){var i=[];return this.eachAll(function(e,s){t(e,s)&&i.push(s)},e),i},isLeaf:function(t){var e=this.model.getNode(t);return e&&e.isLeaf()},contains:function(t,e){return this.model.contains(e,e)},enableFeature:function(t,e){var i=g[t];return this.disableFeature(t),i&&(this.enabledFeatures[t]=new i(this,e)),this},disableFeature:function(t){var e=this.enabledFeatures[t];return e&&(e.destroy(),delete this.enabledFeatures[t]),this}});p.forEach(g,function(t,e){s(e,t)}),p.CustomEvents.mixin(I),e.exports=I},{"./consts/defaultOption":2,"./consts/messages":3,"./consts/outerTemplate":4,"./consts/states":5,"./features/checkbox":6,"./features/draggable":7,"./features/editable":8,"./features/selectable":9,"./treeModel":11,"./util":13}],11:[function(t,e,i){"use strict";var s=t("./treeNode"),n=tui.util.extend,r=tui.util.keys,o=tui.util.forEach,a=tui.util.map,u=tui.util.defineClass({init:function(t,e){s.setIdPrefix(e.nodeIdPrefix),this.nodeDefaultState=e.nodeDefaultState,this.rootNode=new s({state:"opened"},null),this.treeHash={},this._setData(t)},getNodeIdPrefix:function(){return s.idPrefix},_setData:function(t){var e=this.rootNode,i=e.getId();this.treeHash[i]=e,this._makeTreeHash(t,e)},_makeTreeHash:function(t,e){var i=e.getId(),s=[];return o(t,function(t){var n=t.children,r=this._createNode(t,i),o=r.getId();s.push(o),this.treeHash[o]=r,e.addChildId(o),this._makeTreeHash(n,r)},this),s},_createNode:function(t,e){return t=n({state:this.nodeDefaultState},t),new s(t,e)},getChildren:function(t){var e=this.getChildIds(t);return e?a(e,function(t){return this.getNode(t)},this):null},getChildIds:function(t){var e=this.getNode(t);return e?e.getChildIds():null},getCount:function(){return r(this.treeHash).length},getLastDepth:function(){var t=a(this.treeHash,function(t){return this.getDepth(t.getId())},this);return Math.max.apply(null,t)},getNode:function(t){return this.treeHash[t]},getDepth:function(t){var e,i=this.getNode(t),s=0;if(!i)return null;for(e=this.getNode(i.getParentId());e;)s+=1,e=this.getNode(e.getParentId());return s},getParentId:function(t){var e=this.getNode(t);return e?e.getParentId():null},remove:function(t,e){var i,s=this.getNode(t);s&&(i=this.getNode(s.getParentId()),o(s.getChildIds(),function(t){this.remove(t,!0)},this),i.removeChildId(t),delete this.treeHash[t],e||this.fire("update",i.getId()))},add:function(t,e,i){var s,n=this.getNode(e)||this.rootNode;return t=[].concat(t),s=this._makeTreeHash(t,n),i||this.fire("update",n.getId()),s},setNodeData:function(t,e,i){var s=this.getNode(t);s&&e&&(s.setData(e),i||this.fire("update",t))},removeNodeData:function(t,e,i){var s=this.getNode(t);s&&e&&(tui.util.isArray(e)?s.removeData.apply(s,e):s.removeData(e),i||this.fire("update",t))},move:function(t,e,i){var s,n,r,o=this.getNode(t);o&&(r=this.getNode(e)||this.rootNode,e=r.getId(),n=o.getParentId(),s=this.getNode(n),t===e||this.contains(t,e)||(s.removeChildId(t),o.setParentId(e),r.addChildId(t),i||this.fire("move",t,n,e)))},contains:function(t,e){for(var i=this.getParentId(e),s=!1;!s&&i;)s=t===i,i=this.getParentId(i);return s},sort:function(t){this.eachAll(function(e,i){var s,n=this.getChildren(i);n.length>1&&(n.sort(t),s=a(n,function(t){return t.getId()}),e.replaceChildIds(s))})},getNodeData:function(t){var e=this.getNode(t);return e?e.getAllData():null},eachAll:function(t,e){e=e||this,o(this.treeHash,function(){t.apply(e,arguments)})},each:function(t,e,i){var s,n,r;if(r=this.getNode(e))for(s=r.getChildIds(),i=i||this;s.length;)n=s.pop(),r=this.getNode(n),t.call(i,r,n),s=s.concat(r.getChildIds())}});tui.util.CustomEvents.mixin(u),e.exports=u},{"./treeNode":12}],12:[function(t,e,i){"use strict";var s=t("./consts/states").node,n=t("./util"),r=0,o=function(){var t=r;return r+=1,t},a={id:"",state:"setState",children:""},u=tui.util.inArray,l=tui.util.defineClass({"static":{setIdPrefix:function(t){this.idPrefix=t||this.idPrefix},idPrefix:""},init:function(t,e){this._id=this.constructor.idPrefix+o(),this._parentId=e,this._childIds=[],this._data={},this._state=s.CLOSED,this.setData(t)},_setReservedProperties:function(t){return tui.util.forEachOwnProperties(a,function(e,i){var s=t[i];s&&e&&this[e](s),delete t[i]},this),t},toggleState:function(){this._state===s.CLOSED?this._state=s.OPENED:this._state=s.CLOSED},setState:function(t){t=String(t),this._state=s[t.toUpperCase()]||this._state},getState:function(){return this._state},getId:function(){return this._id},getParentId:function(){return this._parentId},setParentId:function(t){this._parentId=t},replaceChildIds:function(t){this._childIds=t},getChildIds:function(){return this._childIds.slice()},addChildId:function(t){var e=this._childIds;-1===tui.util.inArray(e,t)&&e.push(t)},removeChildId:function(t){n.removeItemFromArray(t,this._childIds)},getData:function(t){return this._data[t]},getAllData:function(){return tui.util.extend({},this._data)},setData:function(t){t=this._setReservedProperties(t),tui.util.extend(this._data,t)},removeData:function(){tui.util.forEachArray(arguments,function(t){delete this._data[t]},this)},hasChild:function(t){return-1!==u(t,this._childIds)},isLeaf:function(){return 0===this._childIds.length},isRoot:function(){return tui.util.isFalsy(this._parentId)}});e.exports=l},{"./consts/states":5,"./util":13}],13:[function(t,e,i){"use strict";var s=tui.util.isUndefined,n=tui.util.pick,r=/\{\{(.+?)}}/gi,o=/^\w+(?:\.\w+)*$/,a=function(t){return o.test(t)},u=tui.util.isArraySafe,l={removeItemFromArray:function(t,e){for(var i=e.length-1;i>-1;)t===e[i]&&e.splice(i,1),i-=1},addClass:function(t,e){t&&(""===t.className?t.className=e:l.hasClass(t,e)||(t.className+=" "+e))},removeClass:function(t,e){var i,s,n=l.getClass(t);n&&(i=n.split(" "),s=tui.util.inArray(e,i),-1!==s&&(i.splice(s,1),t.className=i.join(" ")))},addEventListener:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},removeEventListener:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)},getTarget:function(t){var e;return t=t||window.event,e=t.target||t.srcElement},getClass:function(t){return t&&t.getAttribute&&(t.getAttribute("class")||t.getAttribute("className")||"")},hasClass:function(t,e){var i=l.getClass(t);return i.indexOf(e)>-1},getElementsByClassName:function(t,e){var i,s;return t.querySelectorAll?s=t.querySelectorAll("."+e):(i=tui.util.toArray(t.getElementsByTagName("*")),s=tui.util.filter(i,function(t){var i=t.className||"";return-1!==i.indexOf(e)})),s},isRightButton:function(t){return 2===l._getButton(t)},testProp:function(t){var e=document.documentElement.style,i=!1;return tui.util.forEach(t,function(t){return t in e?(i=t,!1):void 0}),i},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},renderTemplate:function(t,e){function i(t){return n.apply(null,[e].concat(t))}return t.replace(r,function(t,e){var n;return a(e)&&(n=i(e.split("."))),u(n)?n=n.join(" "):s(n)&&(n=""),n})},_getButton:function(t){var e,i="0,1,3,5,7",s="2,6",n="4";return document.implementation.hasFeature("MouseEvents","2.0")?t.button:(e=String(t.button),i.indexOf(e)>-1?0:s.indexOf(e)>-1?2:n.indexOf(e)>-1?1:null)}};e.exports=l},{}]},{},[1]);